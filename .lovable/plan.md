

# جعل التطبيق متجاوبًا بالكامل (Full Responsive)

## المشكلات الحالية

1. **الشريط الجانبي (Sidebar)** ظاهر دائمًا حتى على الجوال — لا يوجد زر قائمة (hamburger)
2. **صفحة الدردشة (Chat)** قائمة المحادثات ثابتة بعرض `w-72` ولا تختفي على الجوال
3. **تبويبات Workboard** تتجاوز حدود الشاشة على الجوال بدون مؤشر للتمرير
4. **فلاتر الحالة (Status Tabs)** في صفحة المهام الموحدة تتجاوز الشاشة
5. **أزرار Header** في بعض الصفحات تتراكم على الجوال
6. **التخطيط الرئيسي (OSLayout)** لا يحتوي على أي تعامل مع الشاشات الصغيرة

## الحل — التغييرات المطلوبة

### 1. OSLayout.tsx — قائمة جانبية متجاوبة

- على الجوال (أقل من 768px): إخفاء الشريط الجانبي واستبداله بزر **hamburger** في الـ TopBar
- عند النقر: فتح الشريط الجانبي كـ **Sheet** (من المكون الموجود) ينزلق من اليسار (أو اليمين للعربية)
- على سطح المكتب: يبقى كما هو بدون تغيير

### 2. TopBar.tsx — إضافة زر القائمة للجوال

- إضافة زر **Menu** (hamburger icon) يظهر فقط على الجوال (`md:hidden`)
- هذا الزر يفتح/يغلق الشريط الجانبي
- تصغير شريط الأوامر (BrainCommandBar) على الجوال
- إخفاء بعض النصوص مع إبقاء الأيقونات

### 3. WorkboardLayout.tsx — تبويبات متمررة

- إضافة تمرير أفقي سلس للتبويبات على الجوال
- إخفاء نص التبويب وإظهار الأيقونة فقط على الشاشات الصغيرة جدًا
- إضافة `scrollbar-hide` لإخفاء شريط التمرير

### 4. ChatPage.tsx — تخطيط جوال بعرض واحد

- على الجوال: عرض قائمة المحادثات فقط أو الرسائل فقط (وليس كلاهما)
- عند اختيار محادثة: إخفاء القائمة وعرض الرسائل مع زر "رجوع"
- على سطح المكتب: يبقى التخطيط المزدوج كما هو

### 5. UnifiedTasksPage.tsx — فلاتر متجاوبة

- جعل فلاتر الحالة (TabsList) قابلة للتمرير أفقيًا على الجوال
- إخفاء أعداد المهام (Badge) على الشاشات الصغيرة
- تكديس الأزرار عموديًا في header الصفحة على الجوال
- تصغير Select عرض الحالة في بطاقات المهام

### 6. Marketplace.tsx — شبكة متجاوبة

- تعديل الشبكة لتكون عمود واحد على الجوال (`grid-cols-1 sm:grid-cols-2 lg:grid-cols-3`) — موجودة جزئيًا، تحتاج مراجعة

### 7. index.css — إضافة أداة إخفاء scrollbar

- إضافة class `.scrollbar-hide` لإخفاء شريط التمرير مع إبقاء التمرير يعمل

### 8. main padding — تعديل الحشو الرئيسي

- تغيير `p-6` في OSLayout إلى `p-4 md:p-6` لتوفير مساحة على الجوال

## التفاصيل التقنية

### هيكل الشريط الجانبي المتجاوب

```text
الجوال (عرض < 768px):
  - OSLayout: لا يعرض AppSidebar مباشرة
  - TopBar: يعرض زر Menu + يفتح Sheet يحتوي AppSidebar
  - النقر على رابط في Sheet يغلقه تلقائيًا

سطح المكتب (عرض >= 768px):
  - يبقى كما هو بالضبط — بدون أي تغيير
```

### هيكل الدردشة المتجاوب

```text
الجوال:
  - الحالة الافتراضية: عرض قائمة المحادثات بعرض كامل
  - عند اختيار محادثة: عرض الرسائل بعرض كامل + زر رجوع
  - زر الرجوع يعيد إلى القائمة

سطح المكتب:
  - التخطيط المزدوج الحالي بدون تغيير
```

### الملفات المتأثرة

1. `src/components/OSLayout.tsx` — Sheet للجوال + تمرير prop للـ TopBar
2. `src/components/TopBar.tsx` — زر hamburger على الجوال
3. `src/components/AppSidebar.tsx` — إغلاق تلقائي عند النقر على رابط (جوال)
4. `src/pages/workboard/WorkboardLayout.tsx` — تبويبات متمررة
5. `src/pages/chat/ChatPage.tsx` — تخطيط عرض واحد على الجوال
6. `src/pages/workboard/UnifiedTasksPage.tsx` — فلاتر متجاوبة + header متكدس
7. `src/index.css` — scrollbar-hide utility
8. `src/pages/Marketplace.tsx` — مراجعة بسيطة للشبكة

### ما لن يتغير

- جميع البيانات والوظائف تبقى كما هي
- لا تغييرات في قاعدة البيانات
- لا تغييرات في Edge Functions
- الصفحات التي تستخدم `max-w-3xl` مع cards تعمل جيدًا بالفعل (Today, Insights, Settings)

